package dev.tenacity.module.impl.exploit;

import dev.tenacity.event.impl.player.MotionEvent;
import dev.tenacity.module.Category;
import dev.tenacity.module.Module;
import dev.tenacity.module.settings.impl.BooleanSetting;
import dev.tenacity.module.settings.impl.NumberSetting;
import dev.tenacity.utils.player.ChatUtil;
import net.minecraft.block.Block;
import net.minecraft.block.BlockBed;
import net.minecraft.block.BlockDirectional;
import net.minecraft.block.BlockStairs;
import net.minecraft.block.state.IBlockState;
import net.minecraft.client.Minecraft;
import net.minecraft.client.entity.EntityPlayerSP;
import net.minecraft.client.renderer.entity.RenderManager;
import net.minecraft.entity.Entity;
import net.minecraft.init.Blocks;
import net.minecraft.network.play.client.C07PacketPlayerDigging;
import net.minecraft.util.AxisAlignedBB;
import net.minecraft.util.BlockPos;
import net.minecraft.util.EnumFacing;
import net.minecraft.util.MathHelper;
import net.minecraft.util.MovingObjectPosition;
import net.minecraft.util.Vec3i;
import net.minecraft.block.BlockBed;
import net.minecraft.util.BlockPos;
import net.minecraft.util.EnumFacing;
import net.minecraft.util.Vec3i;
import net.minecraft.world.World;
import net.minecraft.world.World;
import net.minecraft.potion.Potion;

@SuppressWarnings("unused")
public final class Breaker extends Module {

    public Breaker() {
        super("Breaker", Category.EXPLOIT, "Breaks Beds Throw Walls");
        this.addSettings(Swing,Range,Debug);
    }


    private final BooleanSetting Swing = new BooleanSetting("Swing", true);
    private final BooleanSetting Debug = new BooleanSetting("Debug", false);
    private final NumberSetting Range = new NumberSetting("Range", 3, 8, 3, 1);

    @Override
    public void onMotionEvent(MotionEvent event) {
        int detectionRange = 3;
        for (int x = (int) mc.thePlayer.posX - detectionRange; x <= mc.thePlayer.posX + detectionRange; x++) {
            for (int y = (int) mc.thePlayer.posY - detectionRange; y <= mc.thePlayer.posY + detectionRange; y++) {
                for (int z = (int) mc.thePlayer.posZ - detectionRange; z <= mc.thePlayer.posZ + detectionRange; z++) {

                    Minecraft mc = Minecraft.getMinecraft();
                    World world = mc.theWorld;
                    BlockPos pos = new BlockPos(x, y, z);
                    Block block = world.getBlockState(pos).getBlock();

                    if (block == Blocks.bed) {



                        mc.thePlayer.sendQueue.addToSendQueue(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.START_DESTROY_BLOCK, new BlockPos(x, y, z), EnumFacing.UP));


                        if (Swing.isEnabled()) {
                            mc.thePlayer.swingItem();
                        }
                       // if(Debug.isEnabled()) {

                      //  }

                        if (mc.thePlayer.ticksExisted % 5 == 0) {

                                ChatUtil.print("Broke the bed successfully");

                            mc.thePlayer.sendQueue.addToSendQueue(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.STOP_DESTROY_BLOCK, new BlockPos(x, y, z), EnumFacing.UP));

                        }


                    }
                }
            }
        }
    }
}


